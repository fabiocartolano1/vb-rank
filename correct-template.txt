  for (const equipe of equipes) {
    // Trouver l'équipe en utilisant la normalisation
    const equipeNorm = normalizeTeamName(equipe.nom);
    let equipeId: string | undefined;
    let equipeNomDB: string | undefined;

    for (const [nom, id] of equipesMap.entries()) {
      if (normalizeTeamName(nom) === equipeNorm) {
        equipeId = id;
        equipeNomDB = nom;
        break;
      }
    }

    if (equipeId) {
      const equipeRef = doc(db, 'equipes', equipeId);
      const equipeSnap = await getDocs(query(collection(db, 'equipes'), where('__name__', '==', equipeId)));

      if (!equipeSnap.empty) {
        const existingData = equipeSnap.docs[0].data();

        const hasChanged =
          existingData.rang !== equipe.rang ||
          existingData.points !== equipe.points ||
          existingData.joues !== equipe.joues ||
          existingData.gagnes !== equipe.gagnes ||
          existingData.perdus !== equipe.perdus ||
          existingData.setsPour !== equipe.setsPour ||
          existingData.setsContre !== equipe.setsContre;

        if (hasChanged) {
          await updateDoc(equipeRef, {
            rang: equipe.rang,
            points: equipe.points,
            joues: equipe.joues,
            gagnes: equipe.gagnes,
            perdus: equipe.perdus,
            setsPour: equipe.setsPour,
            setsContre: equipe.setsContre,
          });

          console.log(`✅ ${equipeNomDB} - Mise à jour : Rang ${existingData.rang} → ${equipe.rang}, Points ${existingData.points} → ${equipe.points}`);
          updated++;
        } else {
          unchanged++;
        }
      }
    } else {
      console.log(`⚠️  ${equipe.nom} - Équipe non trouvée dans la base de données`);
      notFound++;
    }
  }