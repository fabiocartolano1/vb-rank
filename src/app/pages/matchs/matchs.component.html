<div class="matchs-container">
  <!-- Sélecteur de championnat -->
  <app-championnat-dropdown
    [championnats]="championnats"
    [selectedValue]="selectedEquipe()"
    (selectionChange)="onChampionnatChange($event)">
  </app-championnat-dropdown>

  @if (loading()) {
  <div class="loading">Chargement des matchs...</div>
  } @if (error()) {
  <div class="error">{{ error() }}</div>
  } @if (!loading() && !error()) {
  <div class="matchs-list">
    @for (journeeData of getMatchsByJournee(); track journeeData[0]) {
    <div class="journee-section">
      <button
        class="journee-title"
        (click)="toggleJournee(journeeData[0])"
        [class.open]="isJourneeOpen(journeeData[0])"
      >
        <span>Journée {{ journeeData[0] }}</span>
        <svg
          class="chevron-icon"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="3"
          stroke-linecap="round"
          stroke-linejoin="round"
        >
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </button>

      <div class="matchs-grid" [class.collapsed]="!isJourneeOpen(journeeData[0])">
        @for (match of journeeData[1]; track match.id) {
        <app-match-card
          [match]="match"
          [getTeamLogo]="getTeamLogo.bind(this)"
          [formatDate]="formatDate.bind(this)"
          [highlightCres]="true"
        ></app-match-card>
        }
      </div>
    </div>
    }
  </div>
  }
</div>
