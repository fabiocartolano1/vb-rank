<div class="classement-container">
  @if (loading()) {
    <div class="loading">Chargement du classement...</div>
  }

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

  @if (!loading() && !error()) {
    <div class="table-container">
      <table class="classement-table">
        <thead>
          <tr>
            <th class="rank-col">Rang</th>
            <th class="team-col">Ã‰quipe</th>
            <th class="number-col">Pts</th>
            <th class="number-col">J</th>
            <th class="number-col">G</th>
            <th class="number-col">P</th>
            <th class="number-col hide-mobile">SP</th>
            <th class="number-col hide-mobile">SC</th>
            <th class="number-col hide-mobile">Diff</th>
          </tr>
        </thead>
        <tbody>
          @for (entry of classement(); track entry.id) {
            <tr [class]="getRankClass(entry.rang)">
              <td class="rank-cell">
                <span class="rank-badge" [class]="getRankClass(entry.rang)">
                  {{ entry.rang }}
                </span>
              </td>
              <td class="team-cell">
                <div class="team-info">
                  <img [src]="getTeamLogo(entry.equipe)" [alt]="entry.equipe" class="team-logo">
                  <strong>{{ entry.equipe }}</strong>
                </div>
              </td>
              <td class="points-cell">
                <strong>{{ entry.points }}</strong>
              </td>
              <td>{{ entry.joues }}</td>
              <td class="win-cell">{{ entry.gagnes }}</td>
              <td class="loss-cell">{{ entry.perdus }}</td>
              <td class="hide-mobile">{{ entry.setsPour }}</td>
              <td class="hide-mobile">{{ entry.setsContre }}</td>
              <td class="hide-mobile" [class.positive]="getDifference(entry.setsPour, entry.setsContre) > 0"
                  [class.negative]="getDifference(entry.setsPour, entry.setsContre) < 0">
                {{ getDifference(entry.setsPour, entry.setsContre) > 0 ? '+' : '' }}{{ getDifference(entry.setsPour, entry.setsContre) }}
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  }
</div>
