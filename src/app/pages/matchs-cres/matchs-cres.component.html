<div class="matchs-container">
  @if (loading()) {
  <div class="loading">Chargement des matchs...</div>
  } @if (error()) {
  <div class="error">{{ error() }}</div>
  } @if (!loading() && !error()) {
  <div class="matchs-grid-simple">
    @for (match of getSortedMatchs(); track match.id) {
    <div
      class="match-card"
      [class.termine]="match.statut === 'termine'"
      [class.a-venir]="match.statut === 'a_venir'"
    >
      <!-- Header: Date et Heure -->
      <div class="match-header">
        <span class="date">{{ formatDate(match.date) }}</span>
        @if (match.heure) {
        <span class="heure">{{ match.heure }}</span>
        }
      </div>

      <!-- Corps: Équipes et Score -->
      <div class="match-body">
        <!-- Équipe Domicile -->
        <div class="team-section domicile">
          <img
            [src]="getTeamLogo(match.equipeDomicile)"
            [alt]="match.equipeDomicile"
            class="team-logo"
          />
          <span class="team-name">{{ match.equipeDomicile }}</span>
        </div>

        <!-- Score Central -->
        <div class="score-section">
          @if ((match.scoreDomicile !== undefined && match.scoreExterieur !== undefined) &&
          (match.scoreDomicile !== null && match.scoreExterieur !== null)) {
          <div class="score-display">
            <span class="score-value">{{ match.scoreDomicile }}</span>
            <span class="score-separator">-</span>
            <span class="score-value">{{ match.scoreExterieur }}</span>
          </div>
          } @else {
          <div class="vs-display">VS</div>
          }
        </div>

        <!-- Équipe Extérieur -->
        <div class="team-section exterieur">
          <img
            [src]="getTeamLogo(match.equipeExterieur)"
            [alt]="match.equipeExterieur"
            class="team-logo"
          />
          <span class="team-name">{{ match.equipeExterieur }}</span>
        </div>
      </div>

      <!-- Footer: Détail des sets -->
      @if (match.detailSets && match.detailSets.length > 0) {
      <div class="match-footer">
        <div class="sets-detail">
          <span class="sets-label">Détail des sets:</span>
          <span class="sets-scores">{{ match.detailSets.join(' • ') }}</span>
        </div>
      </div>
      }
    </div>
    }
  </div>
  }
</div>
